(this["webpackJsonpproject-five"]=this["webpackJsonpproject-five"]||[]).push([[0],{33:function(e,t,a){e.exports=a(70)},38:function(e,t,a){},39:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(30),c=a.n(r),i=(a(38),a(7)),s=a(8),l=a(10),m=a(9),u=a(11),h=(a(39),a(16)),d=a(17),b=o.a.createElement(h.a,{icon:d.a,size:"4x"}),p=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("header",null,o.a.createElement("div",{className:"top-bar"},o.a.createElement("h1",null,"My Booklist App"),o.a.createElement("a",{href:"#booklist"},b))))}}]),t}(n.Component),f=a(32),k=o.a.createElement(h.a,{icon:d.b,size:"2x"}),v=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"searchArea",id:"search"},o.a.createElement("form",{action:"",onSubmit:e.searchBook},o.a.createElement("input",{type:"text",id:"newBookTitle",name:"search",placeholder:"search by title, author, or subject",onChange:e.handleSearch,value:e.searchField,required:!0}),o.a.createElement("button",{type:"submit",ref:e.myRef},k))))},E=a(31),y=a.n(E),g=a(14),j=a.n(g),L=function(e){var t=(void 0===e.info?"No results":e.info).volumeInfo,a=e.info.volumeInfo,n=a.title,r=a.authors,c=a.publisher,i=a.infoLink,s=(a.subtitle,a.publishedDate,0==t.hasOwnProperty("imageLinks")?"https://i.imgur.com/sJ3CT4V.gif":t.imageLinks.thumbnail),l=0==t.hasOwnProperty("publishedDate")?t.publishedDate="0000":t.publishedDate;return o.a.createElement("li",{className:"card-container"},o.a.createElement("img",{src:s,alt:n}),o.a.createElement("div",{className:"book-description"},o.a.createElement("h3",null,n),o.a.createElement("h4",null,"Written by: ",r&&r.length>1?r.join(", "):r),o.a.createElement("p",null,"Publisher: ",c,", ","0000"==l?"Not available":l.substring(0,4)," "),o.a.createElement("a",{href:i},"Buy the Book")),o.a.createElement("div",{className:"addToBookList"},o.a.createElement("button",{onClick:function(){return e.addToBookList(t)}},"Add To Book List")))},B=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("p",null,"Created by Henry Adusei, \xa9 2020. Powered by Google Books API"))}}]),t}(n.Component),w=o.a.createElement(h.a,{icon:d.b,size:"2x"}),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).removeFromBookList=function(e){j.a.database().ref("bookList").child(e).remove()},a.handleSearch=function(e){console.log(e.target.value),a.setState({searchField:e.target.value})},a.searchBook=function(e){e.preventDefault();var t=a.state.searchField;y.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&key=").concat("AIzaSyBqTK7Yg9I-VNwKgb9Md0W6K0VanuDIBIM","&maxResults=").concat(40,"&startIndex=").concat(0)).then((function(e){console.log(e),a.setState({books:Object(f.a)(e.data.items)})})).catch((function(){a.setState({hasError:!1})})),a.setState({searchField:""}),a.scrollToMyRef(a.myRef)},a.scrollToMyRef=function(){return window.scrollTo(0,a.myRef.current.offsetTop)},a.myRef=o.a.createRef(),a.state={books:[],searchField:"",sort:"",bookList:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.a.database().ref("bookList").on("value",(function(t){var a=t.val(),n=[];for(var o in a){var r={key:o,name:a[o]};n.push(r)}e.setState({bookList:n})}))}},{key:"addToBookList",value:function(e){j.a.database().ref("bookList").push(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"main",ref:this.myRef},o.a.createElement(v,{searchBook:this.searchBook,handleSearch:this.handleSearch}))),this.state.books?o.a.createElement("ul",{className:"results"},this.state.books.map((function(t){return o.a.createElement(L,{key:t.id,info:t,addToBookList:e.addToBookList})}))):o.a.createElement("h2",null,"There were no matches, please try again"),o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"bookList"},o.a.createElement("div",{className:"bookListContainer"},o.a.createElement("h2",{className:"bookListHeading",id:"booklist"},"My Book List"),o.a.createElement("a",{href:"#search",className:"backToSearchLink"},w,"Back to Search")),o.a.createElement("div",{className:"bookListContent"},this.state.bookList.map((function(t){return o.a.createElement("div",{key:t.key},o.a.createElement("div",{className:"bookListCardContainer"},o.a.createElement("img",{src:t.name.imageLinks.thumbnail,alt:t.name.title}),o.a.createElement("div",{className:"book-description"},o.a.createElement("h3",null,t.name.title),o.a.createElement("h4",null,"Written by: ",t.name.authors&&t.name.authors.length>1?t.name.authors.join(", "):t.name.authors)),o.a.createElement("button",{onClick:function(){e.removeFromBookList(t.key)}},"Remove from Book list")))}))))),o.a.createElement(B,null))}}]),t}(n.Component);j.a.initializeApp({apiKey:"AIzaSyBhrgugLuYsqQwv1hISIaqZ7ZYyFb7Zu7c",authDomain:"project-five-react-app.firebaseapp.com",databaseURL:"https://project-five-react-app.firebaseio.com",projectId:"project-five-react-app",storageBucket:"project-five-react-app.appspot.com",messagingSenderId:"764839463965",appId:"1:764839463965:web:a41d6a8afe2c5bba0b8af4"});j.a;var N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={books:[]},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(p,null)),o.a.createElement(O,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.2821285c.chunk.js.map